import{$ as n}from"./app-a225e504.js";import"./jquery-5c3435d1.js";const p={init:async function(){const t=n(".discount-subscription-form"),o=t.find(".submit-button"),i=t.find('input[name="email"]'),s=t.find(".error-text"),r=n(".email-subscription-sent-success");o.click(function(a){a.preventDefault(),s.text(""),n.ajax({url:routes.emailSubscription.email_subscription_subscribe,type:"post",data:{_token:csrf,email:i.val()},dataType:"json"}).done(function(e){t.addClass("d-none"),r.removeClass("d-none")}).fail(function(e){e.hasOwnProperty("responseJSON")&&e.responseJSON.hasOwnProperty("message")?s.text(e.responseJSON.message):s.text(translations.action_unexpected_error)})})}};export{p as default};
